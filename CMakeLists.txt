cmake_minimum_required(VERSION 2.6)
find_package(PkgConfig)

PROJECT(libmali C)
INCLUDE(GNUInstallDirs)

CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/pkgconfig/egl.pc.cmake"
	"${CMAKE_CURRENT_BINARY_DIR}/egl.pc")
CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/pkgconfig/gbm.pc.cmake"
	"${CMAKE_CURRENT_BINARY_DIR}/gbm.pc")
CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/pkgconfig/glesv2.pc.cmake"
	"${CMAKE_CURRENT_BINARY_DIR}/glesv2.pc")

INSTALL(FILES "${CMAKE_CURRENT_SOURCE_DIR}/lib/libmali.so"
DESTINATION "${CMAKE_INSTALL_LIBDIR}")

INSTALL(FILES "${CMAKE_CURRENT_BINARY_DIR}/egl.pc"
DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")

INSTALL(FILES "${CMAKE_CURRENT_BINARY_DIR}/gbm.pc"
DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")

INSTALL(FILES "${CMAKE_CURRENT_BINARY_DIR}/glesv2.pc"
DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")

INSTALL(DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/inc"
DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
